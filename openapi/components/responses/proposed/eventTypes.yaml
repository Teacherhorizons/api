eventTypesResponse:
  oneOf:
    - $ref: "#/eventTypesResponse_admin"
    - $ref: "#/eventTypesResponse_school"
    - $ref: "#/eventTypesResponse_teacher"
  discriminator:
    propertyName: schema
    mapping:
      admin: "#/eventTypesResponse_admin"
      school: "#/eventTypesResponse_school"
      teacher: "#/eventTypesResponse_teacher"

# admin
eventTypesResponse_admin:
  type: object
  additionalProperties: false
  properties:
    schema:
      type: string
      enum:
        - admin
    data:
      type: object
      additionalProperties: false
      properties:
        type:
          $ref: "../../../components/models/json-api/application/eventType.yaml#/JsonApiModel_application-eventType_type"
        id:
          $ref: "../../../components/models/json-api/application/eventType.yaml#/JsonApiModel_application-eventType_id"
        attributes:
          type: object
          additionalProperties: false
          properties:
            # simple attributes
            name:
              $ref: "../../../components/models/library/application/eventType.yaml#/application-eventType_name"
            creationDate:
              $ref: "../../../components/models/library/application/eventType.yaml#/application-eventType_applicationStatus"
            # relationship attributes
            applicationStatusId:
              $ref: "../../../components/models/json-api/application/status.yaml#/JsonApiModel_application-status_relationship_attribute"
          required:
            - name
            - creationDate
            - applicationStatusId
        relationships:
          type: object
          additionalProperties: false
          properties:
            applicationStatusId:
              $ref: "../../../components/models/json-api/application/status.yaml#/JsonApiModel_application-status_relationship"
          required:
            - job
            - teacher
      required:
        - type
        - id
        - attributes
        - relationships
    included:
      type: array
      items:
        anyOf:
          - $ref: "#/eventTypesResponse_includedSchool_admin"
          - $ref: "#/eventTypesResponse_includedJob_admin"
          - $ref: "#/eventTypesResponse_includedTeacher_admin"
  required:
    - schema
    - data
    - included

eventTypesResponse_includedTeacher_admin:
  type: object
  properties:
    type:
      $ref: "../../../components/models/json-api/teacher/teacher.yaml#/JsonApiModel_teacher_type"
    id:
      $ref: "../../../components/models/json-api/teacher/teacher.yaml#/JsonApiModel_teacher_id"
    attributes:
      type: object
      properties:
        memberNumber:
          $ref: "../../../components/models/library/teacher/teacher.yaml#/teacher_memberNumber"
      required:
        - memberNumber
  required:
    - type
    - id
    - attributes

eventTypesResponse_includedJob_admin:
  type: object
  properties:
    type:
      $ref: "../../../components/models/json-api/job/job.yaml#/JsonApiModel_job_type"
    id:
      $ref: "../../../components/models/json-api/job/job.yaml#/JsonApiModel_job_id"
    attributes:
      type: object
      properties:
        title:
          $ref: "../../../components/models/library/job/job.yaml#/job_title"
        startDate:
          $ref: "../../../components/models/library/job/job.yaml#/job_startDate"
        thOwnerUser:
          $ref: "../../../components/models/library/job/job.yaml#/job_thOwnerUser"
        status:
          $ref: "../../../components/models/library/job/job.yaml#/job_status"
        subject:
          $ref: "../../../components/models/library/job/job.yaml#/job_subject"
        role:
          $ref: "../../../components/models/library/job/job.yaml#/job_role"
      required:
        - title
        - startDate
        - status
        - subject
        - role
    relationships:
      type: object
      properties:
        school:
          $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_relationship"
      required:
        - school
  required:
    - type
    - id
    - attributes
    - relationships

eventTypesResponse_includedSchool_admin:
  type: object
  properties:
    type:
      $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_type"
    id:
      $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_id"
    attributes:
      type: object
      properties:
        name:
          $ref: "../../../components/models/library/school/school.yaml#/school_name"
        thRating:
          $ref: "../../../components/models/library/school/school.yaml#/school_thRating"
        slug:
          $ref: "../../../components/models/library/school/school.yaml#/school_slug"
        city:
          $ref: "../../../components/models/library/school/school.yaml#/school_city"
        lraUser:
          $ref: "../../../components/models/library/school/school.yaml#/school_lraUser"
      required:
        - name
        - slug
        - city
  required:
    - type
    - id
    - attributes

# teacher
eventTypesResponse_teacher:
  type: object
  additionalProperties: false
  properties:
    schema:
      type: string
      enum:
        - teacher
    data:
      type: object
      additionalProperties: false
      properties:
        type:
          $ref: "../../../components/models/json-api/application/eventType.yaml#/JsonApiModel_application-eventType_type"
        id:
          $ref: "../../../components/models/json-api/application/eventType.yaml#/JsonApiModel_application-eventType_id"
        attributes:
          type: object
          additionalProperties: false
          properties:
            # simple attributes
            creationDate:

            # relationship attributes

          required:

        relationships:
          type: object
          properties:
            job:
              $ref: "../../../components/models/json-api/job/job.yaml#/JsonApiModel_job_relationship"
          required:
            - job
      required:
        - type
        - id
        - attributes
        - relationships
    included:
      type: array
      items:
        anyOf:
          - $ref: "#/eventTypesResponse_includedSchool_teacher"
          - $ref: "#/eventTypesResponse_includedJob_teacher"
          - $ref: "#/eventTypesResponse_includedUser_teacher"
  required:
    - schema
    - data
    - included

eventTypesResponse_includedJob_teacher:
  type: object
  properties:
    type:
      $ref: "../../../components/models/json-api/job/job.yaml#/JsonApiModel_job_type"
    id:
      $ref: "../../../components/models/json-api/job/job.yaml#/JsonApiModel_job_id"
    attributes:
      type: object
      properties:
        title:
          $ref: "../../../components/models/library/job/job.yaml#/job_title"
        startDate:
          $ref: "../../../components/models/library/job/job.yaml#/job_startDate"
        status:
          $ref: "../../../components/models/library/job/job.yaml#/job_status"
        subject:
          $ref: "../../../components/models/library/job/job.yaml#/job_subject"
        role:
          $ref: "../../../components/models/library/job/job.yaml#/job_role"
      required:
        - title
        - startDate
        - status
        - subject
        - role
    relationships:
      type: object
      properties:
        school:
          $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_relationship"
        thOwnerUser:
          allOf:
            - $ref: "../../../components/models/json-api/user/user.yaml#/JsonApiModel_user_relationship"
            - $ref: "#/eventTypesResponse_teacher_stage_2_description"
      required:
        - school
  required:
    - type
    - id
    - attributes
    - relationships

eventTypesResponse_includedSchool_teacher:
  type: object
  properties:
    type:
      $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_type"
    id:
      $ref: "../../../components/models/json-api/school/school.yaml#/JsonApiModel_school_id"
    attributes:
      type: object
      properties:
        name:
          $ref: "../../../components/models/library/school/school.yaml#/school_name"
        slug:
          $ref: "../../../components/models/library/school/school.yaml#/school_slug"
        city:
          $ref: "../../../components/models/library/school/school.yaml#/school_city"
        smallProfileImageUrl:
          $ref: "../../../components/models/library/school/school.yaml#/school_smallProfileImageUrl"
        leadRecruitmentContactName:
          allOf:
            - $ref: "../../../components/models/library/school/school.yaml#/school_leadRecruitmentContactName"
            - $ref: "#/eventTypesResponse_teacher_stage_3_description"
        leadRecruitmentContactEmail:
          allOf:
            - $ref: "../../../components/models/library/school/school.yaml#/school_leadRecruitmentContactEmail"
            - $ref: "#/eventTypesResponse_teacher_stage_3_description"
      required:
        - name
        - slug
        - city
        - smallProfileImageUrl
    relationships:
      type: object
      properties:
        lraUser:
          allOf:
            - $ref: "../../../components/models/json-api/user/user.yaml#/JsonApiModel_user_relationship"
            - $ref: "#/eventTypesResponse_teacher_stage_2_description"
  required:
    - type
    - id
    - attributes

